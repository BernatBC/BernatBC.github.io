document.addEventListener("DOMContentLoaded",function(){const n=document.getElementById("navbar-toggle"),e=document.getElementById("navbar-nav");n&&e&&n.addEventListener("click",function(){e.classList.toggle("show")});const s=document.querySelectorAll("section[id]"),t=document.querySelectorAll(".nav-link");if(s.length>0&&t.length>0){function o(){const e=window.pageYOffset;s.forEach(n=>{const o=n.offsetHeight,s=n.offsetTop-100,i=n.getAttribute("id");e>s&&e<=s+o&&t.forEach(e=>{e.classList.remove("active"),e.getAttribute("href")==="#"+i&&e.classList.add("active")})})}window.addEventListener("scroll",o),o(),t.forEach(t=>{t.hash&&t.addEventListener("click",function(t){t.preventDefault();const n=this.getAttribute("href").substring(1),s=document.getElementById(n);if(s){const e=n==="profile"?120:80,t=s.offsetTop-e;window.scrollTo({top:t,behavior:"smooth"}),history.pushState(null,null,this.getAttribute("href"))}e&&e.classList.contains("show")&&e.classList.remove("show")})})}const i=document.querySelectorAll("pre > code");i.length>0&&i.forEach(function(e){const t=document.createElement("button");t.className="copy-code-button",t.type="button",t.innerHTML='<i class="fas fa-copy"></i> Copy';const n=e.parentNode;if(n.parentNode){const s=document.createElement("div");s.className="code-block-wrapper";const o=e.className;if(o&&o.startsWith("language-")){const e=o.replace("language-","");s.setAttribute("data-lang",e)}n.parentNode.insertBefore(s,n),s.appendChild(n),s.appendChild(t),t.addEventListener("click",function(){navigator.clipboard.writeText(e.textContent).then(function(){t.innerHTML='<i class="fas fa-check"></i> Copied!',setTimeout(function(){t.innerHTML='<i class="fas fa-copy"></i> Copy'},2e3)},function(){t.innerHTML='<i class="fas fa-times"></i> Error',setTimeout(function(){t.innerHTML='<i class="fas fa-copy"></i> Copy'},2e3)})})}});const a=document.querySelector(".post-content"),r=document.getElementById("toc-content");if(a&&r){const e=a.querySelectorAll("h2, h3, h4");if(e.length>0){const t=document.createElement("ul");e.forEach((e,n)=>{e.id||(e.id="heading-"+n);const o=document.createElement("li");o.className="toc-"+e.tagName.toLowerCase();const s=document.createElement("a");s.href="#"+e.id,s.textContent=e.textContent,o.appendChild(s),t.appendChild(o),s.addEventListener("click",function(t){t.preventDefault(),document.getElementById(e.id).scrollIntoView({behavior:"smooth"}),history.pushState(null,null,"#"+e.id)})}),r.appendChild(t)}else{const e=document.querySelector(".toc-container");e&&(e.style.display="none")}}const c=document.querySelectorAll(".toc-content a");c.length>0&&window.addEventListener("scroll",function(){let e=null;const t=window.scrollY;document.querySelectorAll(".post-content h1, .post-content h2, .post-content h3, .post-content h4").forEach(n=>{const s=n.offsetTop;s-100<=t&&(e=document.querySelector(`.toc-content a[href="#${n.id}"]`))}),c.forEach(e=>{e.classList.remove("active")}),e&&e.classList.add("active")}),typeof renderMathInElement=="function"&&renderMathInElement(document.body)})