<!doctype html><html lang=en><head><title>LLM Chat RAG</title>
<meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><link rel=stylesheet href=/application.3729448d5da6f409cc7c97a46480e1c23a81ac916507411919505d2ca37d3ee8.css integrity="sha256-NylEjV2m9AnMfJekZIDhwjqBrJFlB0EZGVBdLKN9Pug="><meta property="og:url" content="https://www.bernatbc.tk/posts/education/llm-chat-rag/"><meta property="og:site_name" content="BernatBC"><meta property="og:title" content="LLM Chat RAG"><meta property="og:description" content="LLM Chat RAG"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-03-13T06:00:23+06:00"><meta property="article:modified_time" content="2025-03-13T06:00:23+06:00"><meta property="article:tag" content="AI"><meta property="article:tag" content="Education"><meta property="article:tag" content="Mini-Hackathon"><meta property="article:tag" content="Python"><meta name=twitter:card content="summary"><meta name=twitter:title content="LLM Chat RAG"><meta name=twitter:description content="LLM Chat RAG"><meta name=description content="LLM Chat RAG"><script integrity="sha256-DO4ugzEwhTW1Id1UIWn0gUJWaebCYOypeTit6LW4QB4=">let theme=localStorage.getItem("theme-scheme")||localStorage.getItem("darkmode:color-scheme")||"light";theme==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?theme="dark":theme="light"),document.documentElement.setAttribute("data-theme",theme)</script></head><body class="type-posts kind-page" data-bs-spy=scroll data-bs-target=#TableOfContents data-bs-offset=80><div class="container-fluid bg-secondary wrapper"><nav class="navbar navbar-expand-xl top-navbar" id=top-navbar><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button aria-label=sidebar>
<i data-feather=sidebar></i>
</button>
<a class="navbar-brand d-flex align-items-center" href=/><span>BernatBC</span>
</a><button class="navbar-toggler navbar-light" id=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#top-nav-items aria-label=menu>
<i data-feather=menu></i></button><div class="collapse navbar-collapse dynamic-navbar" id=top-nav-items><ul class="nav navbar-nav ms-auto"><li class=nav-item><a class=nav-link href=/#home>Home</a></li><li class=nav-item><a class=nav-link href=/#about>About</a></li><li class=nav-item><a class=nav-link href=/#skills>Skills</a></li><li class=nav-item><a class=nav-link href=/#experiences>Experiences</a></li><li class=nav-item><a class=nav-link href=/#education>Education</a></li><li class=nav-item><a class=nav-link href=/#projects>Open Source Projects</a></li><li class=nav-item><a class=nav-link href=/#recent-posts>Recent Posts</a></li><div id=top-navbar-divider></div><li class=nav-item><a class=nav-link href=/posts/>Posts</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=themeSelector role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false><img id=navbar-theme-icon-svg class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a><div id=themeMenu class="dropdown-menu dropdown-menu-icons-only" aria-labelledby=themeSelector><a class="dropdown-item nav-link" href=# data-scheme=light><img class=theme-icon src=/icons/sun-svgrepo-com.svg width=20 alt="Light Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=dark><img class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=system><img class=theme-icon src=/icons/computer-svgrepo-com.svg width=20 alt="System Theme"></a></div></li></ul></div></div></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/search><input type=text name=keyword placeholder=Search data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/posts/ data-filter=all>Posts</a></li><div class=subtree><li><i data-feather=plus-circle></i><a class=list-link style=padding-left:.25rem href=/posts/contests/> Contests</a><ul><li><a class=list-link style=padding-left:.5rem href=/posts/contests/codejam2021/ title="Google Code Jam 2021">Google Code Jam 2021</a></li><li><a class=list-link style=padding-left:.5rem href=/posts/contests/hashcode2021/ title="Google Hash Code 2021">Google Hash Code 2021</a></li><li><a class=list-link style=padding-left:.5rem href=/posts/contests/hashcode2022/ title="Google Hash Code 2022">Google Hash Code 2022</a></li><li><a class=list-link style=padding-left:.5rem href=/posts/contests/hackupc2021/ title="HackUPC 2021">HackUPC 2021</a></li><li><a class=list-link style=padding-left:.5rem href=/posts/contests/junction2023/ title="Junction 2023">Junction 2023</a></li><li><a class=list-link style=padding-left:.5rem href=/posts/contests/ncpc2023/ title="NCPC 2023">NCPC 2023</a></li><li><a class=list-link style=padding-left:.5rem href=/posts/contests/royalhackawayv6/ title="Royal Hackaway v6">Royal Hackaway v6</a></li><li><a class=list-link style=padding-left:.5rem href=/posts/contests/20concursupc/ title="Vintè Concurs de Programació de la UPC - Semifinal-2022">Vintè Concurs de Programació de la UPC - Semifinal-2022</a></li></ul></li><li><i data-feather=minus-circle></i><a class="active list-link" style=padding-left:.25rem href=/posts/education/> Education</a><ul class=active><li><a class=list-link style=padding-left:.5rem href=/posts/education/3dimageviewer/ title="3D Image Viewer">3D Image Viewer</a></li><li><a class=list-link style=padding-left:.5rem href=/posts/education/database-embedding/ title="Database Embedding">Database Embedding</a></li><li><a class=list-link style=padding-left:.5rem href=/posts/education/documentmanager/ title="Document Manager">Document Manager</a></li><li><a class=list-link style=padding-left:.5rem href=/posts/education/knowledgebasedsystems/ title="Knowledge Based Systems">Knowledge Based Systems</a></li><li><a class="active list-link" style=padding-left:.5rem href=/posts/education/llm-chat-rag/ title="LLM Chat RAG">LLM Chat RAG</a></li><li><a class=list-link style=padding-left:.5rem href=/posts/education/localsearch/ title="Local Search">Local Search</a></li><li><a class=list-link style=padding-left:.5rem href=/posts/education/minichef-ar/ title="MiniChef AR">MiniChef AR</a></li><li><a class=list-link style=padding-left:.5rem href=/posts/education/objecttracker/ title="Object Tracker">Object Tracker</a></li><li><a class=list-link style=padding-left:.5rem href=/posts/education/planification/ title=Planification>Planification</a></li><li><a class=list-link style=padding-left:.5rem href=/posts/education/subtitle-generator/ title="Subtitle Generator">Subtitle Generator</a></li><li><a class=list-link style=padding-left:.5rem href=/posts/education/vr-battlefield/ title="VR Battlefield">VR Battlefield</a></li><li><a class=list-link style=padding-left:.5rem href=/posts/education/web-to-markdown/ title="Web to Markdown">Web to Markdown</a></li><li><a class=list-link style=padding-left:.5rem href=/posts/education/lambdacalculustelegrambot/ title="λ-Calculus Telegram Bot">λ-Calculus Telegram Bot</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link style=padding-left:.25rem href=/posts/videogames/> Videogames</a><ul><li><a class=list-link style=padding-left:.5rem href=/posts/videogames/europoly/ title=Europoly>Europoly</a></li><li><a class=list-link style=padding-left:.5rem href=/posts/videogames/minesweeper/ title=Minesweeper>Minesweeper</a></li></ul></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class=content><div class="container p-0 read-area"><div class="hero-area col-sm-12" id=hero-area style=background-image:url(/posts/education/llm-chat-rag/hero.png)></div><div class=page-content><div class="author-profile ms-auto align-self-lg-center"><img class=rounded-circle src=/images/profile_hu_ab7080eefaf7f4aa.jpg alt="Author Image"><h5 class=author-name>Bernat Borràs Civil</h5><p class=text-muted>Thursday, March 13, 2025</p></div><div class=title><h1>LLM Chat RAG</h1></div><div class=tags-centered><div class=tags><ul style=padding-left:0><li><a href=/tags/ai/>AI</a></li><li><a href=/tags/education/>Education</a></li><li><a href=/tags/mini-hackathon/>Mini-hackathon</a></li><li><a href=/tags/python/>Python</a></li></ul></div></div><div class=post-content id=post-content><h1 id=llm-chat-rag---cli-interface>LLM Chat RAG - CLI Interface</h1><h2 id=overview>Overview</h2><p>The <strong>LLM Chat RAG</strong> (Retriever-Augmented Generation) is a Command Line Interface (CLI) tool that allows you to interact with documents stored in a ChromaDB database using OpenAI&rsquo;s GPT-4o-mini model. This system provides a way to query documents for relevant information, retrieve context, and generate AI-driven responses based on that context.</p><h2 id=features>Features</h2><ul><li><strong>Retriever-Augmented Generation (RAG):</strong> Retrieve context from a database and use it to generate more accurate and informative responses.</li><li><strong>OpenAI GPT-4o-mini Model:</strong> Uses OpenAI&rsquo;s GPT-4o-mini to generate answers based on the retrieved context.</li><li><strong>ChromaDB Integration:</strong> Uses ChromaDB for efficient document retrieval and context management.</li><li><strong>Command-line interface:</strong> Interact with the system through an intuitive CLI, allowing commands such as <code>/help</code>, <code>/exit</code>, and <code>/sources</code>.</li></ul><h2 id=prerequisites>Prerequisites</h2><ul><li><strong>Python 3.x</strong>: Ensure Python 3.6 or later is installed.</li><li><strong>OpenAI API Key</strong>: You must have an OpenAI API key to use the GPT model.</li><li><strong>ChromaDB</strong>: A local or cloud-based ChromaDB instance for document storage and retrieval.</li></ul><h2 id=setup>Setup</h2><h3 id=1-install-dependencies>1. Install Dependencies</h3><p>Install required dependencies via <code>pip</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pip install -r requirements.txt
</span></span></code></pre></div><h3 id=2-set-environment-variables>2. Set Environment Variables</h3><p>Set the following environment variables:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>OPENAI_API_KEY: Your OpenAI API key.
</span></span><span style=display:flex><span>CHROMA_DB_PATH: <span style=color:#f92672>(</span>Optional<span style=color:#f92672>)</span> Path to the ChromaDB persistent database <span style=color:#f92672>(</span>default is ./chroma_db<span style=color:#f92672>)</span>.
</span></span></code></pre></div><p>For example, on Linux or macOS, you can set the environment variables like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>export OPENAI_API_KEY<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;your_openai_api_key&#34;</span>
</span></span><span style=display:flex><span>export CHROMA_DB_PATH<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;./chroma_db&#34;</span>
</span></span></code></pre></div><p>On Windows, use:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>set OPENAI_API_KEY<span style=color:#f92672>=</span>your_openai_api_key
</span></span><span style=display:flex><span>set CHROMA_DB_PATH<span style=color:#f92672>=</span>.<span style=color:#ae81ff>\c</span>hroma_db
</span></span></code></pre></div><h3 id=3-run-the-application>3. Run the Application</h3><p>To start the CLI chatbot, run the following command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python3 main.py
</span></span></code></pre></div><p>You will be prompted to interact with the chatbot, ask questions, and receive answers based on documents stored in ChromaDB.</p><h3 id=4-setup-chromadb-optional>4. Setup ChromaDB (Optional)</h3><p>If you need to set up the ChromaDB collection before starting the application, run:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python3 main.py --setup
</span></span></code></pre></div><p>This will initialize the ChromaDB collection with OpenAI embeddings.</p><h2 id=cli-commands>CLI Commands</h2><pre><code>/help: Show the help message with available commands.
/exit: Exit the application.
/sources: Show the sources of the last response generated.
</code></pre><h2 id=how-it-works>How it Works</h2><ul><li>ChromaDB Setup: On running the script, it will either set up a new ChromaDB collection or connect to an existing one containing document embeddings.</li><li>Retriever-Augmented Generation (RAG): When a user enters a question, the system will retrieve relevant documents from ChromaDB, and use the retrieved context along with OpenAI&rsquo;s GPT model to generate an answer.</li><li>Response Generation: The generated response is displayed, and the sources (if any) are included at the end of the response.</li></ul><h2 id=example-usage>Example Usage</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#f92672>==============================================</span>
</span></span><span style=display:flex><span>        LLM Chat RAG - CLI Interface
</span></span><span style=display:flex><span><span style=color:#f92672>==============================================</span>
</span></span><span style=display:flex><span>Type your questions and get answers from documents.
</span></span><span style=display:flex><span>Commands:
</span></span><span style=display:flex><span>  /help    - Show this help message
</span></span><span style=display:flex><span>  /exit    - Exit the application
</span></span><span style=display:flex><span>  /sources - Show sources <span style=color:#66d9ef>for</span> the last response
</span></span><span style=display:flex><span><span style=color:#f92672>==============================================</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; What is the capital of France?
</span></span><span style=display:flex><span>Searching <span style=color:#66d9ef>for</span> relevant information...
</span></span><span style=display:flex><span>Generating answer...
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Response <span style=color:#f92672>(</span>generated in 1.23s<span style=color:#f92672>)</span>:
</span></span><span style=display:flex><span><span style=color:#f92672>==================================================</span>
</span></span><span style=display:flex><span>The capital of France is Paris.
</span></span><span style=display:flex><span><span style=color:#f92672>==================================================</span>
</span></span></code></pre></div><h2 id=development>Development</h2><p>To contribute to this project, feel free to fork the repository, make changes, and create pull requests.
License</p><p>This project is licensed under the GNU General Public License - see the LICENSE file for details.</p><h2 id=key-sections>Key Sections:</h2><ul><li><strong>Overview</strong>: Describes the functionality of the tool.</li><li><strong>Prerequisites</strong>: Lists the required software and environment variables.</li><li><strong>Setup</strong>: Guides the user through installing dependencies, setting environment variables, and running the application.</li><li><strong>CLI Commands</strong>: Provides a list of available commands for interaction.</li><li><strong>How it Works</strong>: Explains the core functionality of the app.</li><li><strong>Example Usage</strong>: Shows an example of how to interact with the CLI.</li></ul><h3 id=view-code-on><a href=https://github.com/DGSI-UPC/llm-chat-rag/ target=_blank rel=noopener>View Code on <i class="fab fa-github"></i>Github</a></h3></div><div class="row ps-3 pe-3"><div class="col-md-6 share-buttons"></div></div><div class="row next-prev-navigator"><div class="col-md-6 previous-article"><a href=/posts/education/knowledgebasedsystems/ title="Workout Planner" class="btn nav-button prev-button"><i class="fas fa-chevron-circle-left"></i><div class=nav-text><div class=title>Workout Planner</div></div></a></div><div class="col-md-6 next-article"><a href=/posts/education/localsearch/ title="Grid Power Optimization" class="btn nav-button next-button"><div class=nav-text><div class=title>Grid Power Optimization</div></div><i class="fas fa-chevron-circle-right"></i></a></div></div></div></div></div><a id=scroll-to-top class=btn type=button data-bs-toggle=tooltip data-bs-placement=left title="Scroll to top"><i class="fas fa-chevron-circle-up"></i></a></section><section class=toc-section id=toc-section><div class=toc-holder><h5 class="text-center ps-3">Table of Contents</h5><hr><div class=toc><nav id=TableOfContents><nav id=TableOfContents><ul><li><a href=#overview>Overview</a></li><li><a href=#features>Features</a></li><li><a href=#prerequisites>Prerequisites</a></li><li><a href=#setup>Setup</a><ul><li><a href=#1-install-dependencies>1. Install Dependencies</a></li><li><a href=#2-set-environment-variables>2. Set Environment Variables</a></li><li><a href=#3-run-the-application>3. Run the Application</a></li><li><a href=#4-setup-chromadb-optional>4. Setup ChromaDB (Optional)</a></li></ul></li><li><a href=#cli-commands>CLI Commands</a></li><li><a href=#how-it-works>How it Works</a></li><li><a href=#example-usage>Example Usage</a></li><li><a href=#development>Development</a></li><li><a href=#key-sections>Key Sections:</a><ul><li><a href=#view-code-on><a href=https://github.com/DGSI-UPC/llm-chat-rag/>View Code on <i class="fab fa-github"></i>Github</a></a></li></ul></li></ul></nav></nav></div></div></section></div><footer id=footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-start"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=https://www.bernatbc.tk/#about>About</a></li><li class=nav-item><a class=smooth-scroll href=https://www.bernatbc.tk/#skills>Skills</a></li><li class=nav-item><a class=smooth-scroll href=https://www.bernatbc.tk/#experiences>Experiences</a></li><li class=nav-item><a class=smooth-scroll href=https://www.bernatbc.tk/#education>Education</a></li><li class=nav-item><a class=smooth-scroll href=https://www.bernatbc.tk/#projects>Open Source Projects</a></li><li class=nav-item><a class=smooth-scroll href=https://www.bernatbc.tk/#recent-posts>Recent Posts</a></li><li class=nav-item><a class=smooth-scroll href=/posts/>Posts</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><ul><li><a href=mailto:bernat.borrasc@gmail.com target=_blank rel=noopener><span><i class="fas fa-envelope"></i></span> <span>bernat.borrasc@gmail.com</span></a></li><li><a href=https://github.com/BernatBC target=_blank rel=noopener><span><i class="fab fa-github"></i></span> <span>BernatBC</span></a></li><li><a href=https://www.youtube.com/channel/UCWuKGhwo6zB_ptObwrumZXw target=_blank rel=noopener><span><i class="fa-brands fa-youtube"></i></span> <span>BernatBC</span></a></li><li><a href=https://www.linkedin.com/in/bernat-borr%c3%a0s-i-civil target=_blank rel=noopener><span><i class="fab fa-linkedin"></i></span> <span>Bernat Borràs Civil</span></a></li><li><a href=https://devpost.com/bernat-borras-civil target=_blank rel=noopener><span><i class="fa-solid fa-d"></i></span> <span>Bernat Borràs Civil</span></a></li></ul></div></div></div><hr><div class=container><div class="row text-start"><div class=col-md-4><a id=theme href=https://github.com/hugo-toha/toha target=_blank rel=noopener><img src=/images/theme-logo_hu_b3360284c55cf72d.png alt="Toha Theme Logo">
Toha</a></div><div class="col-md-4 text-center">© 2024 Copyright.</div><div class="col-md-4 text-end"><a id=hugo href=https://gohugo.io/ target=_blank rel=noopener>Powered by
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script src=/application.964427c9b1a5f7d21d641fd1ae4a4bc1892eccb8e95f6181457e561af7162756.js integrity="sha256-lkQnybGl99IdZB/RrkpLwYkuzLjpX2GBRX5WGvcWJ1Y=" defer></script></body></html>