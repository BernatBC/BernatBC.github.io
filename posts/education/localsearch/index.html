<!doctype html><html lang=en><head><title>Grid Power Optimization</title>
<meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><link rel=stylesheet href=/application.3387c90a8d93db51e794fdf79d90776e7d8d38efd0ad6ce9169b60d7637566b7.css integrity="sha256-M4fJCo2T21HnlP33nZB3bn2NOO/QrWzpFptg12N1Zrc="><meta property="og:url" content="https://www.bernatbc.tk/posts/education/localsearch/"><meta property="og:site_name" content="BernatBC"><meta property="og:title" content="Grid Power Optimization"><meta property="og:description" content="Grid Power Optimization"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-10-24T06:00:23+06:00"><meta property="article:modified_time" content="2022-10-24T06:00:23+06:00"><meta property="article:tag" content="AI"><meta property="article:tag" content="Education"><meta property="article:tag" content="Java"><meta name=twitter:card content="summary"><meta name=twitter:title content="Grid Power Optimization"><meta name=twitter:description content="Grid Power Optimization"><meta name=description content="Grid Power Optimization"><script integrity="sha256-DO4ugzEwhTW1Id1UIWn0gUJWaebCYOypeTit6LW4QB4=">let theme=localStorage.getItem("theme-scheme")||localStorage.getItem("darkmode:color-scheme")||"light";theme==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?theme="dark":theme="light"),document.documentElement.setAttribute("data-theme",theme)</script></head><body class="type-posts kind-page" data-bs-spy=scroll data-bs-target=#TableOfContents data-bs-offset=80><div class="container-fluid bg-secondary wrapper"><nav class="navbar navbar-expand-xl top-navbar" id=top-navbar><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button aria-label=sidebar>
<i data-feather=sidebar></i>
</button>
<a class="navbar-brand d-flex align-items-center" href=/><span>BernatBC</span>
</a><button class="navbar-toggler navbar-light" id=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#top-nav-items aria-label=menu>
<i data-feather=menu></i></button><div class="collapse navbar-collapse dynamic-navbar" id=top-nav-items><ul class="nav navbar-nav ms-auto"><li class=nav-item><a class=nav-link href=/#home>Home</a></li><li class=nav-item><a class=nav-link href=/#about>About</a></li><li class=nav-item><a class=nav-link href=/#skills>Skills</a></li><li class=nav-item><a class=nav-link href=/#experiences>Experiences</a></li><li class=nav-item><a class=nav-link href=/#education>Education</a></li><li class=nav-item><a class=nav-link href=/#projects>Open Source Projects</a></li><li class=nav-item><a class=nav-link href=/#recent-posts>Recent Posts</a></li><div id=top-navbar-divider></div><li class=nav-item><a class=nav-link href=/posts/>Posts</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=themeSelector role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false><img id=navbar-theme-icon-svg class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a><div id=themeMenu class="dropdown-menu dropdown-menu-icons-only" aria-labelledby=themeSelector><a class="dropdown-item nav-link" href=# data-scheme=light><img class=theme-icon src=/icons/sun-svgrepo-com.svg width=20 alt="Light Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=dark><img class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=system><img class=theme-icon src=/icons/computer-svgrepo-com.svg width=20 alt="System Theme"></a></div></li></ul></div></div></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/search><input type=text name=keyword placeholder=Search data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/posts/ data-filter=all>Posts</a></li><div class=subtree><li><i data-feather=plus-circle></i><a class=list-link style=padding-left:.25rem href=/posts/contests/> Contests</a><ul><li><a class=list-link style=padding-left:.5rem href=/posts/contests/codejam2021/ title="Google Code Jam 2021">Google Code Jam 2021</a></li><li><a class=list-link style=padding-left:.5rem href=/posts/contests/hashcode2021/ title="Google Hash Code 2021">Google Hash Code 2021</a></li><li><a class=list-link style=padding-left:.5rem href=/posts/contests/hashcode2022/ title="Google Hash Code 2022">Google Hash Code 2022</a></li><li><a class=list-link style=padding-left:.5rem href=/posts/contests/hackupc2021/ title="HackUPC 2021">HackUPC 2021</a></li><li><a class=list-link style=padding-left:.5rem href=/posts/contests/junction2023/ title="Junction 2023">Junction 2023</a></li><li><a class=list-link style=padding-left:.5rem href=/posts/contests/ncpc2023/ title="NCPC 2023">NCPC 2023</a></li><li><a class=list-link style=padding-left:.5rem href=/posts/contests/royalhackawayv6/ title="Royal Hackaway v6">Royal Hackaway v6</a></li><li><a class=list-link style=padding-left:.5rem href=/posts/contests/20concursupc/ title="Vintè Concurs de Programació de la UPC - Semifinal-2022">Vintè Concurs de Programació de la UPC - Semifinal-2022</a></li></ul></li><li><i data-feather=minus-circle></i><a class="active list-link" style=padding-left:.25rem href=/posts/education/> Education</a><ul class=active><li><a class=list-link style=padding-left:.5rem href=/posts/education/3dimageviewer/ title="3D Image Viewer">3D Image Viewer</a></li><li><a class=list-link style=padding-left:.5rem href=/posts/education/database-embedding/ title="Database Embedding">Database Embedding</a></li><li><a class=list-link style=padding-left:.5rem href=/posts/education/documentmanager/ title="Document Manager">Document Manager</a></li><li><a class=list-link style=padding-left:.5rem href=/posts/education/knowledgebasedsystems/ title="Knowledge Based Systems">Knowledge Based Systems</a></li><li><a class=list-link style=padding-left:.5rem href=/posts/education/llm-chat-rag/ title="LLM Chat RAG">LLM Chat RAG</a></li><li><a class="active list-link" style=padding-left:.5rem href=/posts/education/localsearch/ title="Local Search">Local Search</a></li><li><a class=list-link style=padding-left:.5rem href=/posts/education/minichef-ar/ title="MiniChef AR">MiniChef AR</a></li><li><a class=list-link style=padding-left:.5rem href=/posts/education/objecttracker/ title="Object Tracker">Object Tracker</a></li><li><a class=list-link style=padding-left:.5rem href=/posts/education/planification/ title=Planification>Planification</a></li><li><a class=list-link style=padding-left:.5rem href=/posts/education/subtitle-generator/ title="Subtitle Generator">Subtitle Generator</a></li><li><a class=list-link style=padding-left:.5rem href=/posts/education/vr-battlefield/ title="VR Battlefield">VR Battlefield</a></li><li><a class=list-link style=padding-left:.5rem href=/posts/education/web-to-markdown/ title="Web to Markdown">Web to Markdown</a></li><li><a class=list-link style=padding-left:.5rem href=/posts/education/lambdacalculustelegrambot/ title="λ-Calculus Telegram Bot">λ-Calculus Telegram Bot</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link style=padding-left:.25rem href=/posts/videogames/> Videogames</a><ul><li><a class=list-link style=padding-left:.5rem href=/posts/videogames/europoly/ title=Europoly>Europoly</a></li><li><a class=list-link style=padding-left:.5rem href=/posts/videogames/minesweeper/ title=Minesweeper>Minesweeper</a></li></ul></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class=content><div class="container p-0 read-area"><div class="hero-area col-sm-12" id=hero-area style=background-image:url(/posts/education/localsearch/hero.png)></div><div class=page-content><div class="author-profile ms-auto align-self-lg-center"><img class=rounded-circle src=/images/profile_hu_ab7080eefaf7f4aa.jpg alt="Author Image"><h5 class=author-name>Bernat Borràs Civil</h5><p class=text-muted>Monday, October 24, 2022</p></div><div class=title><h1>Grid Power Optimization</h1></div><div class=tags-centered><div class=tags><ul style=padding-left:0><li><a href=/tags/ai/>AI</a></li><li><a href=/tags/education/>Education</a></li><li><a href=/tags/java/>Java</a></li></ul></div></div><div class=post-content id=post-content><h2 id=the-statement>The statement</h2><p>Given a set of Power plants and Clients, find an assignation for each Client where the total benefit is the maximum. Each power plant is represented by coordinates in a map, the total production and the cost when it&rsquo;s stopped and running. Each client is represented by coordinates in a map, the power consumed, the price it pays for each Mw and a compensation in the case he doesn&rsquo;t get power. Also, power gets drained if the distance between a power plant and a client is farther than a certain value.</p><p>They ask us to solve the problem using
<a href=https://en.wikipedia.org/wiki/Hill_climbing target=_blank rel=noopener>Hill Climbing</a> and
<a href=https://en.wikipedia.org/wiki/Simulated_annealing target=_blank rel=noopener>Simulated Annealing</a>. We also have to study how each parameter in this algorithm varies the solution and the time efficiency.</p><p>The full statement is in the document below. Note that the statement is in Spanish.</p><embed src=PracticaBusqueda-local.pdf width=100% height=700 type=application/pdf><h2 id=our-solution>Our solution</h2><p><a href=https://github.com/alexland7219 target=_blank rel=noopener>@alexland7219</a>,
<a href=https://github.com/Loparc target=_blank rel=noopener>@Loparc</a> and I were allowed to use
<a href=https://github.com/aimacode/aima-java target=_blank rel=noopener>AIMA</a>, a library where both algorithms are implemented. For each algorithm we had to determine the state representation, the initial state generation, the operands and the heuristic function. By trying and studying different options, we selected the following ideas:</p><h3 id=state-representation>State Representation</h3><p>We chose to represent a state with an array of c positions, where c is the number of clients. Each position represents a client and each value the power plant which the client is assigned to (can be empty). This representation is enough, but we decided to store certain parameters, so the program can run faster. We added the benefit that solution has, and some parameters needed for the heuristic function (will be explained later).</p><h3 id=operands>Operands</h3><p>As we need a set of operands that can reach any possible solution, we started using 3 operands: Assign, unassign and swap. Assign and unassign operators are self-explanatory. Assign sets a power plant to a client (can overwrite a previous power plant assigned). Unassign removes a power plant from a client. Swap operator switches two power plants between two clients. Of course, each time we have to apply an operator, we check if it&rsquo;s possible to apply it.</p><p>Later we found that the unassign operator was never used, so we decided to remove it. That made the execution time go down a couple of seconds.</p><h3 id=initial-state-generation>Initial State Generation</h3><p>We had to make two strategies to generate the initial state, so we can compare them later on the project. As there&rsquo;s a type of clients that have to have a power plant, we decided to assign all clients of this kind to a power plant.</p><p>The first strategy is to assign each &ldquo;guaranteed&rdquo; client to the closest power plant. The second one is also to assign each &ldquo;guaranteed&rdquo; client to a random power plant. There are cases where the initial state is not a valid solution, so we indicate to the heuristic function how many &ldquo;guaranteed&rdquo; clients don&rsquo;t have a power plant assigned.</p><h3 id=heuristic-function>Heuristic Function</h3><p>Our first guess was to use the benefit as the heuristic function. This worked fairy well until we noticed that the algorithm shut down all power plants. A better option would be to provide energy to as many clients as possible. After testing a lot of functions, we got</p><p>$$
\begin{aligned}
& h = (dist * \log(dist) + energy) *(nonAssignedG + 1) \newline
& dist = \sum_{n=1}^{numPowerPlants}\sum_{m=1}^{numClients}
\begin{cases}
distance(powerPlants[n], clients[m]) &\text{if } assigned(powerPlants[n], clients[m]) \newline
0 &\text{else }
\end{cases} \newline
& energy = \sum_{n=1}^{numPowerPlants} powerPlants[n].energyLeft² \newline
& where, \newline
& powerPlants[] \to \text{an array containing power plants} \newline
& clients[] \to \text{an array containing clients} \newline
& numPowerPlants \to \text{number of power plants} \newline
& numClients \to \text{number of clients} \newline
& energyLeft \to \text{energy the specified power plant has available}
\end{aligned}
$$</p><h3 id=view-code-and-report-on><a href=https://github.com/BernatBC/LocalSearch target=_blank rel=noopener>View Code and report on <i class="fab fa-github"></i>Github</a></h3></div><div class="row ps-3 pe-3"><div class="col-md-6 share-buttons"></div></div><div class="row next-prev-navigator"><div class="col-md-6 previous-article"><a href=/posts/education/llm-chat-rag/ title="LLM Chat RAG" class="btn nav-button prev-button"><i class="fas fa-chevron-circle-left"></i><div class=nav-text><div class=title>LLM Chat RAG</div></div></a></div><div class="col-md-6 next-article"><a href=/posts/education/minichef-ar/ title="MiniChef AR" class="btn nav-button next-button"><div class=nav-text><div class=title>MiniChef AR</div></div><i class="fas fa-chevron-circle-right"></i></a></div></div></div></div></div><a id=scroll-to-top class=btn type=button data-bs-toggle=tooltip data-bs-placement=left title="Scroll to top"><i class="fas fa-chevron-circle-up"></i></a></section><section class=toc-section id=toc-section><div class=toc-holder><h5 class="text-center ps-3">Table of Contents</h5><hr><div class=toc><nav id=TableOfContents><nav id=TableOfContents><ul><li><a href=#the-statement>The statement</a></li><li><a href=#our-solution>Our solution</a><ul><li><a href=#state-representation>State Representation</a></li><li><a href=#operands>Operands</a></li><li><a href=#initial-state-generation>Initial State Generation</a></li><li><a href=#heuristic-function>Heuristic Function</a></li><li><a href=#view-code-and-report-on><a href=https://github.com/BernatBC/LocalSearch>View Code and report on <i class="fab fa-github"></i>Github</a></a></li></ul></li></ul></nav></nav></div></div></section></div><footer id=footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-start"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=https://www.bernatbc.tk/#about>About</a></li><li class=nav-item><a class=smooth-scroll href=https://www.bernatbc.tk/#skills>Skills</a></li><li class=nav-item><a class=smooth-scroll href=https://www.bernatbc.tk/#experiences>Experiences</a></li><li class=nav-item><a class=smooth-scroll href=https://www.bernatbc.tk/#education>Education</a></li><li class=nav-item><a class=smooth-scroll href=https://www.bernatbc.tk/#projects>Open Source Projects</a></li><li class=nav-item><a class=smooth-scroll href=https://www.bernatbc.tk/#recent-posts>Recent Posts</a></li><li class=nav-item><a class=smooth-scroll href=/posts/>Posts</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><ul><li><a href=mailto:bernat.borrasc@gmail.com target=_blank rel=noopener><span><i class="fas fa-envelope"></i></span> <span>bernat.borrasc@gmail.com</span></a></li><li><a href=https://github.com/BernatBC target=_blank rel=noopener><span><i class="fab fa-github"></i></span> <span>BernatBC</span></a></li><li><a href=https://www.youtube.com/channel/UCWuKGhwo6zB_ptObwrumZXw target=_blank rel=noopener><span><i class="fa-brands fa-youtube"></i></span> <span>BernatBC</span></a></li><li><a href=https://www.linkedin.com/in/bernat-borr%c3%a0s-i-civil target=_blank rel=noopener><span><i class="fab fa-linkedin"></i></span> <span>Bernat Borràs Civil</span></a></li><li><a href=https://devpost.com/bernat-borras-civil target=_blank rel=noopener><span><i class="fa-solid fa-d"></i></span> <span>Bernat Borràs Civil</span></a></li></ul></div></div></div><hr><div class=container><div class="row text-start"><div class=col-md-4><a id=theme href=https://github.com/hugo-toha/toha target=_blank rel=noopener><img src=/images/theme-logo_hu_b3360284c55cf72d.png alt="Toha Theme Logo">
Toha</a></div><div class="col-md-4 text-center">© 2024 Copyright.</div><div class="col-md-4 text-end"><a id=hugo href=https://gohugo.io/ target=_blank rel=noopener>Powered by
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script src=/application.b6612c5f664072bbc9ec132370efa831d65da1bc4b95c0c2a1710852b49a8060.js integrity="sha256-tmEsX2ZAcrvJ7BMjcO+oMdZdobxLlcDCoXEIUrSagGA=" defer></script></body></html>