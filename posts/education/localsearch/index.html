<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Grid Power Optimization - BernatBC</title>
<link rel=stylesheet href=https://bernatbc.tk/styles/style.min.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.css integrity=sha384-zh0CIslj+VczCZtlzBcjt5ppRcsAmDnRem7ESsYwWwg3m/OaJ2l4x7YBZl9Kxxib crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.js integrity=sha384-Rma6DA2IPUwhNxmrB/7S3Tno0YY7sFu9WSYMCuulLhIqYSGZ2gKCJWIqhBWqMQfh crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/contrib/auto-render.min.js integrity=sha384-hCXGrW6PitJEwbkoStFjeJxv+fSOOQKOPbJxSfM6G5sWZjAyWhXiTIIAmQqnlLlh crossorigin=anonymous onload=renderMathInElement(document.body)></script></head><body class=dark-theme><div class=page-wrapper><nav class=navbar><div class=navbar-container><button id=navbar-toggle class=navbar-toggle>
<i class="fas fa-bars"></i></button><div class=navbar-nav id=navbar-nav><ul><li><a href=/#profile class=nav-link><i class="fas fa-user"></i> Profile</a></li><li><a href=/#skills class=nav-link><i class="fas fa-code"></i> Skills</a></li><li><a href=/#experiences class=nav-link><i class="fas fa-briefcase"></i> Experiences</a></li><li><a href=/#education class=nav-link><i class="fas fa-graduation-cap"></i> Education</a></li><li><a href=/#projects class=nav-link><i class="fas fa-project-diagram"></i> Open Source Projects</a></li><li><a href=/#recent-posts class=nav-link><i class="fas fa-newspaper"></i> Recent Posts</a></li><li><a href=/posts class="nav-link active"><i class="fas fa-pen"></i> All Posts</a></li></ul></div></div></nav><div class=content-wrapper><aside class=toc-container><div class=toc><h3 class=toc-title><i class="fas fa-list"></i> Table of Contents</h3><div id=toc-content class=toc-content></div></div></aside><div class=main-content><div class=container><article class=post-single><header class=post-header><h1 class=section-title>Grid Power Optimization</h1><div class=post-meta><div class=post-meta-top><span class=post-date><i class="far fa-calendar-alt"></i> October 24, 2022</span></div><div class=post-tags><span class=post-tag>AI</span>
<span class=post-tag>Education</span>
<span class=post-tag>Java</span></div></div><div class=post-featured-image><img src=/posts/education/localsearch/hero.png alt="Grid Power Optimization"></div></header><div class=post-content><h2 id=the-statement>The statement</h2><p>Given a set of Power plants and Clients, find an assignation for each Client where the total benefit is the maximum. Each power plant is represented by coordinates in a map, the total production and the cost when it&rsquo;s stopped and running. Each client is represented by coordinates in a map, the power consumed, the price it pays for each Mw and a compensation in the case he doesn&rsquo;t get power. Also, power gets drained if the distance between a power plant and a client is farther than a certain value.</p><p>They ask us to solve the problem using <a href=https://en.wikipedia.org/wiki/Hill_climbing>Hill Climbing</a> and <a href=https://en.wikipedia.org/wiki/Simulated_annealing>Simulated Annealing</a>. We also have to study how each parameter in this algorithm varies the solution and the time efficiency.</p><p>The full statement is in the document below. Note that the statement is in Spanish.</p><embed src=PracticaBusqueda-local.pdf width=100% height=700 type=application/pdf><h2 id=our-solution>Our solution</h2><p><a href=https://github.com/alexland7219>@alexland7219</a>, <a href=https://github.com/Loparc>@Loparc</a> and I were allowed to use <a href=https://github.com/aimacode/aima-java>AIMA</a>, a library where both algorithms are implemented. For each algorithm we had to determine the state representation, the initial state generation, the operands and the heuristic function. By trying and studying different options, we selected the following ideas:</p><h3 id=state-representation>State Representation</h3><p>We chose to represent a state with an array of c positions, where c is the number of clients. Each position represents a client and each value the power plant which the client is assigned to (can be empty). This representation is enough, but we decided to store certain parameters, so the program can run faster. We added the benefit that solution has, and some parameters needed for the heuristic function (will be explained later).</p><h3 id=operands>Operands</h3><p>As we need a set of operands that can reach any possible solution, we started using 3 operands: Assign, unassign and swap. Assign and unassign operators are self-explanatory. Assign sets a power plant to a client (can overwrite a previous power plant assigned). Unassign removes a power plant from a client. Swap operator switches two power plants between two clients. Of course, each time we have to apply an operator, we check if it&rsquo;s possible to apply it.</p><p>Later we found that the unassign operator was never used, so we decided to remove it. That made the execution time go down a couple of seconds.</p><h3 id=initial-state-generation>Initial State Generation</h3><p>We had to make two strategies to generate the initial state, so we can compare them later on the project. As there&rsquo;s a type of clients that have to have a power plant, we decided to assign all clients of this kind to a power plant.</p><p>The first strategy is to assign each &ldquo;guaranteed&rdquo; client to the closest power plant. The second one is also to assign each &ldquo;guaranteed&rdquo; client to a random power plant. There are cases where the initial state is not a valid solution, so we indicate to the heuristic function how many &ldquo;guaranteed&rdquo; clients don&rsquo;t have a power plant assigned.</p><h3 id=heuristic-function>Heuristic Function</h3><p>Our first guess was to use the benefit as the heuristic function. This worked fairy well until we noticed that the algorithm shut down all power plants. A better option would be to provide energy to as many clients as possible. After testing a lot of functions, we got</p><p>$$
\begin{aligned}
& h = (dist * \log(dist) + energy) *(nonAssignedG + 1) \newline
& dist = \sum_{n=1}^{numPowerPlants}\sum_{m=1}^{numClients}
\begin{cases}
distance(powerPlants[n], clients[m]) &\text{if } assigned(powerPlants[n], clients[m]) \newline
0 &\text{else }
\end{cases} \newline
& energy = \sum_{n=1}^{numPowerPlants} powerPlants[n].energyLeft² \newline
& where, \newline
& powerPlants[] \to \text{an array containing power plants} \newline
& clients[] \to \text{an array containing clients} \newline
& numPowerPlants \to \text{number of power plants} \newline
& numClients \to \text{number of clients} \newline
& energyLeft \to \text{energy the specified power plant has available}
\end{aligned}
$$</p><h3 id=view-code-and-report-on-i-classfab-fa-githubigithubhttpsgithubcombernatbclocalsearch><a href=https://github.com/BernatBC/LocalSearch>View Code and report on <i class="fab fa-github"></i>Github</a></h3></div><div class=post-footer><div class=post-navigation><a href=/posts/contests/20concursupc/ class=prev-post><i class="fas fa-arrow-left"></i>
<span><small>Previous</small>
<strong>Vintè Concurs de Programació de la UPC - Semifinal 2022</strong>
</span></a><a href=/posts/videogames/europoly/ class=next-post><span><small>Next</small>
<strong>Europoly</strong>
</span><i class="fas fa-arrow-right"></i></a></div><a href=/posts class=back-to-posts><i class="fas fa-th-list"></i> Back to all posts</a></div></article></div><footer class=footer><div class=footer-contact><a href=bernat.borrasc@gmail.com class=footer-link title=Email><i class="fas fa-envelope"></i>
</a><a href=https://github.com/bernatbc class=footer-link title=Github><i class="fab fa-github"></i>
</a><a href=https://www.youtube.com/channel/UCWuKGhwo6zB_ptObwrumZXw class=footer-link title=Youtube><i class="fa-brands fa-youtube"></i>
</a><a href=https://www.linkedin.com/in/bernat-borr%c3%a0s-i-civil/ class=footer-link title=LinkedIn><i class="fab fa-linkedin"></i>
</a><a href=https://devpost.com/bernat-borras-civil class=footer-link title=Devpost><i class="fa-solid fa-d"></i></a></div><div class=footer-copyright><p>© 2025 Copyright.</p><p>Powered by <a href=https://gohugo.io target=_blank>gohugo</a></p></div></footer></div></div></div><script>document.addEventListener("DOMContentLoaded",function(){const s=document.getElementById("navbar-toggle"),o=document.getElementById("navbar-nav");s.addEventListener("click",function(){o.classList.toggle("show")}),document.querySelectorAll("pre > code").forEach(function(e){const t=document.createElement("button");t.className="copy-code-button",t.type="button",t.innerHTML='<i class="fas fa-copy"></i> Copy';const s=e.parentNode,n=document.createElement("div");n.className="code-block-wrapper";const o=e.className;if(o&&o.startsWith("language-")){const e=o.replace("language-","");n.setAttribute("data-lang",e)}s.parentNode.insertBefore(n,s),n.appendChild(s),n.appendChild(t),t.addEventListener("click",function(){navigator.clipboard.writeText(e.textContent).then(function(){t.innerHTML='<i class="fas fa-check"></i> Copied!',setTimeout(function(){t.innerHTML='<i class="fas fa-copy"></i> Copy'},2e3)},function(){t.innerHTML='<i class="fas fa-times"></i> Error',setTimeout(function(){t.innerHTML='<i class="fas fa-copy"></i> Copy'},2e3)})})});const e=document.querySelector(".post-content"),t=document.getElementById("toc-content");if(e&&t){const n=e.querySelectorAll("h2, h3, h4");if(n.length>0){const e=document.createElement("ul");n.forEach((t,n)=>{t.id||(t.id="heading-"+n);const o=document.createElement("li");o.className="toc-"+t.tagName.toLowerCase();const s=document.createElement("a");s.href="#"+t.id,s.textContent=t.textContent,o.appendChild(s),e.appendChild(o),s.addEventListener("click",function(e){e.preventDefault(),document.getElementById(t.id).scrollIntoView({behavior:"smooth"}),history.pushState(null,null,"#"+t.id)})}),t.appendChild(e)}else document.querySelector(".toc-container").style.display="none"}const n=document.querySelectorAll(".toc-content a");n.length&&window.addEventListener("scroll",function(){let e=null;const t=window.scrollY;document.querySelectorAll(".post-content h1, .post-content h2, .post-content h3, .post-content h4").forEach(n=>{const s=n.offsetTop;s-100<=t&&(e=document.querySelector(`.toc-content a[href="#${n.id}"]`))}),n.forEach(e=>{e.classList.remove("active")}),e&&e.classList.add("active")})})</script></body></html>