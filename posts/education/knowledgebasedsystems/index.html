<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Workout Planner - BernatBC</title>
<link rel=stylesheet href=https://www.bernatbc.tk/styles/style.min.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.css integrity=sha384-zh0CIslj+VczCZtlzBcjt5ppRcsAmDnRem7ESsYwWwg3m/OaJ2l4x7YBZl9Kxxib crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.js integrity=sha384-Rma6DA2IPUwhNxmrB/7S3Tno0YY7sFu9WSYMCuulLhIqYSGZ2gKCJWIqhBWqMQfh crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/contrib/auto-render.min.js integrity=sha384-hCXGrW6PitJEwbkoStFjeJxv+fSOOQKOPbJxSfM6G5sWZjAyWhXiTIIAmQqnlLlh crossorigin=anonymous onload=renderMathInElement(document.body)></script></head><body class=dark-theme><div class=page-wrapper><nav class=navbar><div class=navbar-container><button id=navbar-toggle class=navbar-toggle>
<i class="fas fa-bars"></i></button><div class=navbar-nav id=navbar-nav><ul><li><a href=/#profile class=nav-link><i class="fas fa-user"></i> Profile</a></li><li><a href=/#skills class=nav-link><i class="fas fa-code"></i> Skills</a></li><li><a href=/#experiences class=nav-link><i class="fas fa-briefcase"></i> Experiences</a></li><li><a href=/#education class=nav-link><i class="fas fa-graduation-cap"></i> Education</a></li><li><a href=/#projects class=nav-link><i class="fas fa-project-diagram"></i> Open Source Projects</a></li><li><a href=/#recent-posts class=nav-link><i class="fas fa-newspaper"></i> Recent Posts</a></li><li><a href=/posts class="nav-link active"><i class="fas fa-pen"></i> All Posts</a></li></ul></div></div></nav><div class=content-wrapper><aside class=toc-container><div class=toc><h3 class=toc-title><i class="fas fa-list"></i> Table of Contents</h3><div id=toc-content class=toc-content></div></div></aside><div class=main-content><div class=container><article class=post-single><header class=post-header><h1 class=section-title>Workout Planner</h1><div class=post-meta><div class=post-meta-top><span class=post-date><i class="far fa-calendar-alt"></i> December 19, 2022</span></div><div class=post-tags><span class=post-tag>AI</span>
<span class=post-tag>Clips</span>
<span class=post-tag>Education</span></div></div><div class=post-featured-image><img src=/posts/education/knowledgebasedsystems/hero.png alt="Workout Planner"></div></header><div class=post-content><h2 id=the-statement>The statement</h2><p>The progressive aging of the population is showing the importance of maintaining a set of healthy habits and promote physical exercise throughout life. When you reach a certain age it is necessary to have help to determine what types of exercises and activities are the most appropriate taking into account all factors that may affect the performance of those activities.</p><p>Basically, we had to make a <a href=https://clipsrules.net/>CLIPS</a> script that after given certain information about a person, we had to output an exercise planning suitable for him/her. We were given a bunch of documents about exercises for elder people where we had to extract the information.</p><p>The full statement is in the document below. Note that the statement is in Spanish.</p><embed src=PracticaSBC.pdf width=100% height=700 type=application/pdf><h2 id=our-solution>Our solution</h2><p><a href=https://github.com/alexland7219>@alexland7219</a>, <a href=https://github.com/Loparc>@Loparc</a> and I started making the ontology using <a href=https://protege.stanford.edu/>Protégé</a>, an ontology editor for building intelligent systems. We specified all items involved in the problem, like the different illnesses, body parts, properties, etc. Once we had our ontology done, with the help of <a href=https://pypi.org/project/owl2else/>owl2else</a> to convert our .owl file to a <a href=https://clipsrules.net/>CLIPS</a> script. Since none of us had used <a href=https://clipsrules.net/>CLIPS</a>, we watched a lot of videos to understand what the h*** <a href=https://clipsrules.net/>CLIPS</a> was and how to use it. Neither of us used a language similar in any aspect to <a href=https://clipsrules.net/>CLIPS</a>. At the beginning we were so lost that nothing worked. I don&rsquo;t know how suddenly our script was reading the questions the user inputs. After reading these questions, we assigned properties and relations in our ontology.</p><p>Now is when everything we tried didn&rsquo;t work. We tried to print the exercisies suitable for the user, and we learned how slots worked in <a href=https://clipsrules.net/>CLIPS</a>. We tried many forum solutions and none worked except for one. Thankfully, that worked, but we noticed that there were repetitions. We decided we would check if that exercise was already in the slot before inserting it. We could make this work after spending 3 or 4 hours in front of the code.</p><p>The remaining tasks were easier, as we already knew (more or less) how clips worked. We used some formulas to decide the amount of days that user had to exercise, the amount of repetitions and the duration.</p><p>We calculated the number of days a week the user has to exercise using the following formula:</p><p>$$
\begin{aligned}
& days = 3 + 4 * (0.3 * \frac{activeGrade - 1}{3} + 0.1 * notSmoker + 0.6 * \frac{110 - age}{110 - 65}) \newline
& where, \newline
& activeGrade \to \text{is a number between 1 and 5 that indicates how active a person is. 1: not active, 5: very active.} \newline
& notSmoker \to \text{1: if the user does NOT smoke. 0: if the user DOES smoke.} \newline
& age \to \text{age of the user.}
\end{aligned}
$$</p><p><br><br></p><p>To calculate the amount of repetitions the user will do, we used the following one:</p><p>$$
\begin{aligned}
& repetitions = \lfloor 20 + 10 * \frac{activeGrade}{exerciseIntensity} \rfloor \newline
& where, \newline
& activeGrade \to \text{is a number between 1 and 5 that indicates how active a person is. 1: not active, 5: very active.} \newline
& excerciseIntensity \to \text{is a number between 1 and 5 that indicates how intense an exercise is. 1: not intense, 5: very intense.} \newline
\end{aligned}
$$</p><p><br><br></p><p>To calculate the duration of a certain exercise the user will do, we used the following formula:</p><p>$$
\begin{aligned}
& duration =
\begin{cases}
\frac{baseDuration}{2} &\text{if first exercise of the day}\newline
\frac{baseDuration}{1.5} &\text{if second exercise of the day}\newline
\frac{baseDuration}{3} &\text{if third exercise of the day}
\end{cases} \newline
& baseDuration = \lfloor 20 + 10 * \frac{activeGrade}{exerciseIntensity} \rfloor \newline
& where, \newline
& activeGrade \to \text{is a number between 1 and 5 that indicates how active a person is. 1: not active, 5: very active.} \newline
& excerciseIntensity \to \text{is a number between 1 and 5 that indicates how intense an exercise is. 1: not intense, 5: very intense.} \newline
\end{aligned}
$$</p><p><br><br></p><h3 id=view-code-and-report-on-i-classfab-fa-githubigithubhttpsgithubcombernatbcknowledgebasedsystems><a href=https://github.com/BernatBC/KnowledgeBasedSystems>View Code and report on <i class="fab fa-github"></i>Github</a></h3></div><div class=post-footer><div class=post-navigation><a href=/posts/videogames/europoly/ class=prev-post><i class="fas fa-arrow-left"></i>
<span><small>Previous</small>
<strong>Europoly</strong>
</span></a><a href=/posts/education/planification/ class=next-post><span><small>Next</small>
<strong>Mars Planification</strong>
</span><i class="fas fa-arrow-right"></i></a></div><a href=/posts class=back-to-posts><i class="fas fa-th-list"></i> Back to all posts</a></div></article></div><footer class=footer><div class=footer-contact><a href=bernat.borrasc@gmail.com class=footer-link title=Email><i class="fas fa-envelope"></i>
</a><a href=https://github.com/bernatbc class=footer-link title=Github><i class="fab fa-github"></i>
</a><a href=https://www.youtube.com/channel/UCWuKGhwo6zB_ptObwrumZXw class=footer-link title=Youtube><i class="fa-brands fa-youtube"></i>
</a><a href=https://www.linkedin.com/in/bernat-borr%c3%a0s-i-civil/ class=footer-link title=LinkedIn><i class="fab fa-linkedin"></i>
</a><a href=https://devpost.com/bernat-borras-civil class=footer-link title=Devpost><i class="fa-solid fa-d"></i></a></div><div class=footer-copyright><p>© 2025 Copyright.</p><p>Powered by <a href=https://gohugo.io target=_blank>gohugo</a></p></div></footer></div></div></div><script>document.addEventListener("DOMContentLoaded",function(){const s=document.getElementById("navbar-toggle"),o=document.getElementById("navbar-nav");s.addEventListener("click",function(){o.classList.toggle("show")}),document.querySelectorAll("pre > code").forEach(function(e){const t=document.createElement("button");t.className="copy-code-button",t.type="button",t.innerHTML='<i class="fas fa-copy"></i> Copy';const s=e.parentNode,n=document.createElement("div");n.className="code-block-wrapper";const o=e.className;if(o&&o.startsWith("language-")){const e=o.replace("language-","");n.setAttribute("data-lang",e)}s.parentNode.insertBefore(n,s),n.appendChild(s),n.appendChild(t),t.addEventListener("click",function(){navigator.clipboard.writeText(e.textContent).then(function(){t.innerHTML='<i class="fas fa-check"></i> Copied!',setTimeout(function(){t.innerHTML='<i class="fas fa-copy"></i> Copy'},2e3)},function(){t.innerHTML='<i class="fas fa-times"></i> Error',setTimeout(function(){t.innerHTML='<i class="fas fa-copy"></i> Copy'},2e3)})})});const e=document.querySelector(".post-content"),t=document.getElementById("toc-content");if(e&&t){const n=e.querySelectorAll("h2, h3, h4");if(n.length>0){const e=document.createElement("ul");n.forEach((t,n)=>{t.id||(t.id="heading-"+n);const o=document.createElement("li");o.className="toc-"+t.tagName.toLowerCase();const s=document.createElement("a");s.href="#"+t.id,s.textContent=t.textContent,o.appendChild(s),e.appendChild(o),s.addEventListener("click",function(e){e.preventDefault(),document.getElementById(t.id).scrollIntoView({behavior:"smooth"}),history.pushState(null,null,"#"+t.id)})}),t.appendChild(e)}else document.querySelector(".toc-container").style.display="none"}const n=document.querySelectorAll(".toc-content a");n.length&&window.addEventListener("scroll",function(){let e=null;const t=window.scrollY;document.querySelectorAll(".post-content h1, .post-content h2, .post-content h3, .post-content h4").forEach(n=>{const s=n.offsetTop;s-100<=t&&(e=document.querySelector(`.toc-content a[href="#${n.id}"]`))}),n.forEach(e=>{e.classList.remove("active")}),e&&e.classList.add("active")})})</script></body></html>