<!DOCTYPE html>
<html lang="en">
<head>
    {{ partial "head.html" . }}
</head>
<body class="dark-theme">
    <div class="page-wrapper">
        <!-- Top Navigation Bar -->
        <nav class="navbar">
            <div class="navbar-container">
                <button id="navbar-toggle" class="navbar-toggle">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="navbar-nav" id="navbar-nav">
                    <ul>
                        <li><a href="/#profile" class="nav-link"><i class="fas fa-user"></i> Profile</a></li>
                        <li><a href="/#skills" class="nav-link"><i class="fas fa-code"></i> Skills</a></li>
                        <li><a href="/#experiences" class="nav-link"><i class="fas fa-briefcase"></i> Experiences</a></li>
                        <li><a href="/#education" class="nav-link"><i class="fas fa-graduation-cap"></i> Education</a></li>
                        <li><a href="/#projects" class="nav-link"><i class="fas fa-project-diagram"></i> Open Source Projects</a></li>
                        <li><a href="/#recent-posts" class="nav-link"><i class="fas fa-newspaper"></i> Recent Posts</a></li>
                        <li><a href="/posts" class="nav-link {{ if eq .Section "posts" }}active{{ end }}"><i class="fas fa-pen"></i> All Posts</a></li>
                    </ul>
                </div>
            </div>
        </nav>

        <div class="content-wrapper">
            <!-- Table of Contents - Now outside main-content -->
            <aside class="toc-container">
                <div class="toc">
                    <h3 class="toc-title"><i class="fas fa-list"></i> Table of Contents</h3>
                    <div id="toc-content" class="toc-content">
                        <!-- TOC will be generated by JavaScript -->
                    </div>
                </div>
            </aside>

            <!-- Main Content -->
            <div class="main-content">
                <div class="container">
                    <article class="post-single">
                        <header class="post-header">
                            <h1 class="section-title">{{ .Title }}</h1>
                            <div class="post-meta">
                                <div class="post-meta-top">
                                    <span class="post-date"><i class="far fa-calendar-alt"></i> {{ .Date.Format "January 2, 2006" }}</span>
                                </div>
                                {{ if .Params.tags }}
                                <div class="post-tags">
                                    {{ range .Params.tags }}
                                    <span class="post-tag">{{ . }}</span>
                                    {{ end }}
                                </div>
                                {{ end }}
                            </div>
                            
                            {{ with .Resources.GetMatch (printf "%s*" .Params.thumbnail) }}
                            <div class="post-featured-image">
                                <img src="{{ .RelPermalink }}" alt="{{ $.Title }}">
                            </div>
                            {{ end }}
                        </header>
                        
                        <div class="post-content">
                            {{ .Content }}
                        </div>
                        
                        <div class="post-footer">
                            <div class="post-navigation">
                                {{ with .Prev }}
                                <a href="{{ .RelPermalink }}" class="prev-post">
                                    <i class="fas fa-arrow-left"></i>
                                    <span>
                                        <small>Previous</small>
                                        <strong>{{ .Title }}</strong>
                                    </span>
                                </a>
                                {{ end }}
                                {{ with .Next }}
                                <a href="{{ .RelPermalink }}" class="next-post">
                                    <span>
                                        <small>Next</small>
                                        <strong>{{ .Title }}</strong>
                                    </span>
                                    <i class="fas fa-arrow-right"></i>
                                </a>
                                {{ end }}
                            </div>
                            
                            <a href="/posts" class="back-to-posts"><i class="fas fa-th-list"></i> Back to all posts</a>
                        </div>
                    </article>
                </div>
                
                <footer class="footer">
                    <div class="footer-contact">
                        {{ range .Site.Data.profile.contactDetails }}
                            <a href="{{ .url }}" class="footer-link" title="{{ .type }}">
                                <i class="{{ .icon }}"></i>
                            </a>
                        {{ end }}
                    </div>
                    <div class="footer-copyright">
                        <p>{{ .Site.Data.site.copyright }}</p>
                        <p>Powered by <a href="https://gohugo.io" target="_blank">gohugo</a></p>
                    </div>
                </footer>
            </div>
        </div>
    </div>
</body>
</html>
